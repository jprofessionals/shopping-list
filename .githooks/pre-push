#!/bin/bash
set -e

ROOT_DIR="$(git rev-parse --show-toplevel)"
cd "$ROOT_DIR"

echo "=== Pre-push: Running linters ==="
make lint

echo ""
echo "=== Pre-push: Running backend tests ==="
make test-backend

echo ""
echo "=== Pre-push: Running frontend tests ==="
make test-frontend

echo ""
echo "=== Pre-push: Running E2E tests ==="
make test-e2e

echo ""
echo "=== All checks passed, pushing ==="
